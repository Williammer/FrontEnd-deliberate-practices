{"version":3,"sources":["features/collapsible/Collapsible.jsx"],"names":["collapsibleItems","title","contents","normalCollapsibleReducer","state","_ref","index","activeKeys","has","delete","add","Object","_Applications_XAMPP_xamppfiles_htdocs_play_react_flux_FrontEnd_deliberate_practices_react_redux_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_7__","singleOpenedReducer","source","size","Set","ensureOneOpenedReducer","CollapsibleButton","styled","button","_templateObject","props","isActive","CollapsibleContent","pre","_templateObject2","AnimatedCollapsibleContent","posed","active","opacity","top","inactive","CollapsibleItem","_ref2","item","direction","onItemClicked","react__WEBPACK_IMPORTED_MODULE_8___default","a","createElement","onClick","Collapsible","_this","this","setState","prev","_ref3","stateReducer","onStateChanged","_this$props","_this$props$direction","render","bind","Component","Accordion","assign","_ref4","map","key","Tabs","_ref5","tabs","AnimatedTabs","_ref6","pose","style","position","defaultProps","onStateChange","DemoContainer","div","_templateObject3","DemoItem","li","_templateObject4","Demo","demos","demoTitle","_ref7","_Applications_XAMPP_xamppfiles_htdocs_play_react_flux_FrontEnd_deliberate_practices_react_redux_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/2.2d004623.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport posed from 'react-pose';\n\nconst collapsibleItems = [\n  {\n    title: 'Kiwifruit 🥝',\n    contents: `The kiwifruit, native to northern China, first arrived in New Zealand at the turn of\nthe 20th century; it was then known as the Chinese Gooseberry.\nConsuming fruits and vegetables of all kinds is associated with a reduced risk of heart disease,\ndiabetes, cancer, and other conditions.`,\n  },\n  {\n    title: 'Avocado 🥑',\n    contents: `The avocado (Persea americana) is a tree, long thought to have originated in South\nCentral Mexico, classified as a member of the flowering plant family Lauraceae.\nThe fruit of the plant, also called an avocado (or avocado pear or alligator pear), is botanically\na large berry containing a single large seed known as a \"pit\" or a \"stone\".`,\n  },\n  {\n    title: 'Pineapple 🍍',\n    contents: `The pineapple (Ananas comosus) is a tropical plant with an edible multiple fruit\nconsisting of coalesced berries, also called pineapples, and the most economically significant plant\nin the family Bromeliaceae.`,\n  },\n];\n\nfunction normalCollapsibleReducer(state, { index }) {\n  const { activeKeys } = state;\n  if (activeKeys.has(index)) {\n    activeKeys.delete(index);\n  } else {\n    activeKeys.add(index);\n  }\n  return { ...state, activeKeys };\n}\n\nfunction singleOpenedReducer(state, source) {\n  const { activeKeys } = state;\n  const { index } = source;\n\n  if (activeKeys.size > 0 && !activeKeys.has(index)) {\n    return { ...state, activeKeys: new Set([index]) };\n  }\n\n  return normalCollapsibleReducer(state, source);\n}\n\nfunction ensureOneOpenedReducer(state, source) {\n  const { activeKeys } = state;\n  const { index } = source;\n\n  if (activeKeys.size > 0) {\n    return { ...state, activeKeys: new Set([index]) };\n  }\n\n  return { ...state, activeKeys: new Set([0]) };\n}\n\nconst CollapsibleButton = styled.button`\n  background: ${props => (props.isActive ? 'palevioletred' : 'white')};\n  cursor: pointer;\n`;\n\nconst CollapsibleContent = styled.pre`\n  margin: 2px 0;\n`;\n\nconst AnimatedCollapsibleContent = posed.pre({\n  active: { opacity: 1, top: 30 },\n  inactive: { opacity: 0, top: 100 },\n});\n\nfunction CollapsibleItem({ item, index, isActive, direction, onItemClicked }) {\n  return (\n    <div>\n      {isActive && direction === 'up' ? (\n        <CollapsibleContent>{item.contents}</CollapsibleContent>\n      ) : null}\n      <CollapsibleButton\n        isActive={isActive}\n        onClick={() => onItemClicked(index)}>\n        {item.title}\n      </CollapsibleButton>\n      {isActive && direction === 'down' ? (\n        <CollapsibleContent>{item.contents}</CollapsibleContent>\n      ) : null}\n    </div>\n  );\n}\n\nclass Collapsible extends Component {\n  static defaultProps = {\n    stateReducer: normalCollapsibleReducer,\n    onStateChange: () => {},\n  };\n\n  state = {\n    activeKeys: new Set(this.props.activeKeys),\n  };\n\n  onItemClicked(index) {\n    this.setState(\n      (prev, { stateReducer }) => stateReducer(prev, { index }),\n      this.props.onStateChanged,\n    );\n  }\n  render() {\n    const { direction = 'down', render } = this.props;\n    const activeKeys = this.state.activeKeys;\n\n    return render({\n      activeKeys,\n      direction,\n      onItemClicked: this.onItemClicked.bind(this),\n    });\n  }\n}\n\nfunction Accordion(props) {\n  return (\n    <Collapsible\n      {...props}\n      render={({ activeKeys, direction, onItemClicked }) => (\n        <div>\n          {collapsibleItems.map((item, index) => (\n            <CollapsibleItem\n              key={index}\n              item={item}\n              index={index}\n              direction={direction}\n              isActive={activeKeys.has(index)}\n              onItemClicked={onItemClicked}\n            />\n          ))}\n        </div>\n      )}\n    />\n  );\n}\n\nfunction Tabs(props) {\n  return (\n    <Collapsible\n      activeKeys={[0]}\n      {...props}\n      stateReducer={ensureOneOpenedReducer}\n      render={({ activeKeys, direction, onItemClicked }) => {\n        const tabs = collapsibleItems.map((item, index) => (\n          <CollapsibleButton\n            key={index}\n            isActive={activeKeys.has(index)}\n            onClick={() => onItemClicked(index)}>\n            {item.title}\n          </CollapsibleButton>\n        ));\n\n        const contents = collapsibleItems.map(\n          (item, index) =>\n            activeKeys.has(index) ? (\n              <CollapsibleContent key={index}>\n                {item.contents}\n              </CollapsibleContent>\n            ) : null,\n        );\n\n        return (\n          <div>\n            {direction === 'up' ? contents : null}\n            {tabs}\n            {direction === 'down' ? contents : null}\n          </div>\n        );\n      }}\n    />\n  );\n}\n\nfunction AnimatedTabs(props) {\n  return (\n    <Collapsible\n      activeKeys={[0]}\n      {...props}\n      stateReducer={ensureOneOpenedReducer}\n      render={({ activeKeys, direction, onItemClicked }) => {\n        const tabs = collapsibleItems.map((item, index) => (\n          <CollapsibleButton\n            key={index}\n            isActive={activeKeys.has(index)}\n            onClick={() => onItemClicked(index)}>\n            {item.title}\n          </CollapsibleButton>\n        ));\n\n        const contents = collapsibleItems.map((item, index) => (\n          <AnimatedCollapsibleContent\n            key={index}\n            pose={activeKeys.has(index) ? 'active' : 'inactive'}\n            style={{ position: 'absolute' }}>\n            {item.contents}\n          </AnimatedCollapsibleContent>\n        ));\n\n        return (\n          <div style={{ position: 'relative' }}>\n            {direction === 'up' ? contents : null}\n            {tabs}\n            {direction === 'down' ? contents : null}\n          </div>\n        );\n      }}\n    />\n  );\n}\n\nconst DemoContainer = styled.div`\n  text-align: left;\n  margin-left: 40px;\n`;\n\nconst DemoItem = styled.li`\n  margin-bottom: 100px;\n  list-style: none;\n`;\n\nexport default function Demo() {\n  const demos = [\n    {\n      demoTitle: 'Accordion: up',\n      Component: Accordion,\n      direction: 'up',\n    },\n    {\n      demoTitle: 'Accordion: down',\n      Component: Accordion,\n      direction: 'down',\n    },\n    {\n      demoTitle: 'Accordion: Single Opened',\n      Component: Accordion,\n      stateReducer: singleOpenedReducer,\n    },\n    {\n      demoTitle: 'Tab: down',\n      Component: Tabs,\n      direction: 'down',\n    },\n    {\n      demoTitle: 'Tab: up',\n      Component: Tabs,\n      direction: 'up',\n    },\n    {\n      demoTitle: 'AnimatedTabs: down',\n      Component: AnimatedTabs,\n      direction: 'down',\n    },\n  ];\n  return (\n    <DemoContainer>\n      {demos.map(({ demoTitle, Component, ...props }, index) => (\n        <DemoItem key={index}>\n          <h3>{demoTitle}</h3>\n          <Component {...props} />\n        </DemoItem>\n      ))}\n    </DemoContainer>\n  );\n}\n"],"sourceRoot":""}