{"version":3,"sources":["features/canvasImgViewer/CanvasImgViewer.jsx"],"names":["LazyLoadImg","_this","Object","_Applications_XAMPP_xamppfiles_htdocs_play_react_flux_FrontEnd_deliberate_practices_react_redux_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Applications_XAMPP_xamppfiles_htdocs_play_react_flux_FrontEnd_deliberate_practices_react_redux_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Applications_XAMPP_xamppfiles_htdocs_play_react_flux_FrontEnd_deliberate_practices_react_redux_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","renderImgOnCanvas","bind","_Applications_XAMPP_xamppfiles_htdocs_play_react_flux_FrontEnd_deliberate_practices_react_redux_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","imgUrl","props","canvas","document","getElementById","ctx","getContext","img","Image","onload","width","height","drawImage","src","prevProps","prevState","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","id","React","Component","CanvasImgViewer","_this2","state","onChangeWidth","onChangeHeight","value","_ref","target","setState","_ref2","_ref3","_ref4","_this$state","className","htmlFor","name","type","onChange","concat"],"mappings":"4MAEMA,cACJ,SAAAA,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACZC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,QACKI,kBAAoBP,EAAKO,kBAAkBC,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAFbA,mFAIM,IACVU,EAAWP,KAAKQ,MAAhBD,OACFE,EAASC,SAASC,eAAe,UACjCC,EAAMH,EAAOI,WAAW,MACxBC,EAAM,IAAIC,MAChBD,EAAIE,OAAS,WACXP,EAAOQ,MAAQjB,KAAKiB,MACpBR,EAAOS,OAASlB,KAAKkB,OACrBN,EAAIO,UAAUnB,KAAM,EAAG,IAIzBc,EAAIM,IAAMb,8CAGVP,KAAKI,+DAEYiB,EAAWC,GAAW,IAC/Bf,EAAWP,KAAKQ,MAAhBD,OACJA,GAAUA,IAAWc,EAAUd,QACjCP,KAAKI,qDAKP,OAAOmB,EAAAC,EAAAC,cAAA,UAAQC,GAAG,kBA9BIC,IAAMC,WAkCXC,cACnB,SAAAA,IAAc,IAAAC,EAAA,OAAAhC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6B,IACZC,EAAAhC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+B,GAAA1B,KAAAH,QACK+B,MAAQ,CACXd,MAAO,IACPC,OAAQ,KAEVY,EAAKE,cAAgBF,EAAKE,cAAc3B,KAAnBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAgC,KACrBA,EAAKG,eAAiBH,EAAKG,eAAe5B,KAApBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAgC,KAPVA,gFASuB,IAAXI,EAAWC,EAArBC,OAAUF,MACxBlC,KAAKqC,SAAS,SAAAC,GAAA,IAAGpB,EAAHoB,EAAGpB,OAAH,MAAiB,CAAED,MAAOiB,EAAOhB,sDAEX,IAAXgB,EAAWK,EAArBH,OAAUF,MACzBlC,KAAKqC,SAAS,SAAAG,GAAA,MAAgB,CAAEvB,MAAlBuB,EAAGvB,MAAsBC,OAAQgB,sCAG/C,IADOO,EAEmBzC,KAAK+B,MAAvBd,EAFDwB,EAECxB,MAAOC,EAFRuB,EAEQvB,OACf,OACEK,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,OACbnB,EAAAC,EAAAC,cAAA,SAAOkB,QAAQ,SAAf,SACS,IACPpB,EAAAC,EAAAC,cAAA,SACEmB,KAAK,QACLC,KAAK,SACLC,SAAU9C,KAAKgC,cACfE,MAAOjB,GAAS,KAGpBM,EAAAC,EAAAC,cAAA,SAAOkB,QAAQ,UAAf,SACS,IACPpB,EAAAC,EAAAC,cAAA,SACEmB,KAAK,SACLC,KAAK,SACLC,SAAU9C,KAAKiC,eACfC,MAAOhB,GAAU,KAGrBK,EAAAC,EAAAC,cAAC7B,EAAD,CAAaW,OAAM,GAAAwC,OAtBP,gCAsBOA,OAAe9B,GAAS,EAAxB,KAAA8B,OAA6B7B,GAAU,aAvCrBS,IAAMC","file":"static/js/1.cbbdfb2f.chunk.js","sourcesContent":["import React from 'react';\n\nclass LazyLoadImg extends React.Component {\n  constructor() {\n    super();\n    this.renderImgOnCanvas = this.renderImgOnCanvas.bind(this);\n  }\n  renderImgOnCanvas() {\n    const { imgUrl } = this.props;\n    const canvas = document.getElementById('canvas');\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.onload = function() {\n      canvas.width = this.width;\n      canvas.height = this.height;\n      ctx.drawImage(this, 0, 0);\n      // const dataURL = canvas.toDataURL('image/jpeg');\n      // console.log('----dataURL: ', dataURL);\n    };\n    img.src = imgUrl;\n  }\n  componentDidMount() {\n    this.renderImgOnCanvas();\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const { imgUrl } = this.props;\n    if (imgUrl && imgUrl !== prevProps.imgUrl) {\n      this.renderImgOnCanvas();\n    }\n  }\n\n  render() {\n    return <canvas id=\"canvas\" />;\n  }\n}\n\nexport default class CanvasImgViewer extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      width: 350,\n      height: 150,\n    };\n    this.onChangeWidth = this.onChangeWidth.bind(this);\n    this.onChangeHeight = this.onChangeHeight.bind(this);\n  }\n  onChangeWidth({ target: { value } }) {\n    this.setState(({ height }) => ({ width: value, height }));\n  }\n  onChangeHeight({ target: { value } }) {\n    this.setState(({ width }) => ({ width, height: value }));\n  }\n  render() {\n    const baseUrl = 'https://via.placeholder.com/';\n    const { width, height } = this.state;\n    return (\n      <div className=\"App\">\n        <label htmlFor=\"width\">\n          Width:{' '}\n          <input\n            name=\"width\"\n            type=\"number\"\n            onChange={this.onChangeWidth}\n            value={width || 0}\n          />\n        </label>\n        <label htmlFor=\"height\">\n          Width:{' '}\n          <input\n            name=\"height\"\n            type=\"number\"\n            onChange={this.onChangeHeight}\n            value={height || 0}\n          />\n        </label>\n        <LazyLoadImg imgUrl={`${baseUrl}${width || 1}x${height || 1}`} />\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}